{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","smallImage","onClickImage","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","id","Button","buttonContainer","type","Searchbar","state","searchName","onNameChange","e","setState","currentTarget","value","onSubmit","preventDefault","props","reset","this","SearchForm","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","React","Component","Loader","containerLoading","color","height","width","Modal","handleKeyDown","code","hideModal","onClickOverlay","console","log","target","window","addEventListener","removeEventListener","Overlay","bigModalImage","BASE_URL","API_KEY","App","page","isLoading","onLoadMoreImages","a","fetchImages","response","reducingResponseKeys","length","prevState","incrementDataState","scrollTo","top","document","documentElement","scrollHeight","behavior","newSearchName","resetDataState","updateSearchNameState","undefined","searchParam","axios","get","data","message","hits","el","largeImageURL","updateStateBigModalImage","findBigModalImage","find","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5631707d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9JXVV\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3zdSj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__a0743\",\"buttonContainer\":\"Button_buttonContainer__1jnjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1BatF\",\"Modal\":\"Modal_Modal__1Nk5z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3MIpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerLoading\":\"Loader_containerLoading__1VICc\"};","import s from \"./ImageGalleryItem.module.css\";\r\nexport default function ImageGalleryItem({ smallImage, onClickImage }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={onClickImage}>\r\n      <img\r\n        src={smallImage}\r\n        alt=\"Изображение не найдено.\"\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ images, onClickImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          smallImage={image.webformatURL}\r\n          onClickImage={onClickImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <div className={s.buttonContainer}>\r\n      <button className={s.Button} type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends React.Component {\r\n  state = {\r\n    searchName: \"\",\r\n  };\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ searchName: e.currentTarget.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchName);\r\n    this.reset();\r\n  };\r\n\r\n  reset() {\r\n    this.setState({ searchName: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.searchName}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onNameChange}\r\n          />\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import Loading from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={s.containerLoading}>\r\n      <Loading type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentDidUnMount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n\r\n  onClickOverlay = (e) => {\r\n    console.log(e);\r\n    if (e.target.className === \"Modal_Overlay__1BatF\") {\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.onClickOverlay}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.bigModalImage} alt=\"Not found.\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  bigModalImage: PropTypes.string.isRequired,\r\n  hideModal: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\nimport axios from \"axios\";\n\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Searchbar from \"./components/Searchbar\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"22710862-ad31ee603fc8e39b27d5b9240\";\n\nexport default class App extends React.Component {\n  state = {\n    images: [],\n    searchName: \"\",\n    page: 1,\n    isLoading: false,\n  };\n\n  async componentDidUpdate() {\n    const response = await this.fetchImages();\n    const images = this.reducingResponseKeys(response);\n    if (this.state.images.length === 0) {\n      this.setState({ images: images });\n      this.incrementDataState();\n    }\n    if (this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  onLoadMoreImages = async () => {\n    this.setState({ isLoading: true });\n    const response = await this.fetchImages();\n    const images = this.reducingResponseKeys(response);\n    if (images.length !== 0) {\n      this.setState((prevState) => {\n        return { images: [...prevState.images, ...images] };\n      });\n    }\n    this.incrementDataState();\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onSubmit = (newSearchName) => {\n    this.setState({ isLoading: true });\n    this.resetDataState();\n    this.updateSearchNameState(newSearchName);\n  };\n\n  incrementDataState = () => {\n    this.setState((prevState) => {\n      return {\n        page: (prevState.page += 1),\n      };\n    });\n  };\n\n  resetDataState = () => {\n    this.setState({\n      images: [],\n      searchName: \"\",\n      page: 1,\n      bigModalImage: undefined,\n    });\n  };\n\n  updateSearchNameState = (newSearchName) => {\n    this.setState({ searchName: newSearchName });\n  };\n\n  fetchImages = async () => {\n    try {\n      const searchParam = `${this.state.searchName}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=${this.state.page}`;\n      const response = await axios.get(\n        `${BASE_URL}?key=${API_KEY}&q=${searchParam}`\n      );\n      return response.data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  reducingResponseKeys = (data) => {\n    const newArrayImages = data.hits.map((el) => ({\n      id: el.id,\n      webformatURL: el.webformatURL,\n      largeImageURL: el.largeImageURL,\n    }));\n    return newArrayImages;\n  };\n\n  updateStateBigModalImage = () => {\n    this.setState({ bigModalImage: undefined });\n  };\n\n  findBigModalImage = (smallImage) => {\n    const { images } = this.state;\n    const bigModalImage = images.find(\n      (image) => image.webformatURL === smallImage\n    );\n    this.setState({ bigModalImage: bigModalImage.largeImageURL });\n  };\n\n  onClickImage = (e) => {\n    this.findBigModalImage(e.target.src);\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.bigModalImage !== undefined && (\n          <Modal\n            bigModalImage={this.state.bigModalImage}\n            hideModal={this.updateStateBigModalImage}\n          />\n        )}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery\n          images={this.state.images}\n          onClickImage={this.onClickImage}\n        />\n        {this.state.isLoading && <Loader />}\n        {this.state.images.length !== 0 && (\n          <Button onClick={this.onLoadMoreImages} />\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2ySnK\",\"SearchForm\":\"Searchbar_SearchForm__nD2kx\",\"SearchFormButton\":\"Searchbar_SearchFormButton__14KNL\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1nTwF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ImLo\"};"],"sourceRoot":""}
{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/FetchApi.jsx","App.js","index.js"],"names":["module","exports","ImageGalleryItem","smallImage","onClickImage","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","id","Button","buttonContainer","type","Searchbar","state","searchName","onNameChange","e","setState","currentTarget","value","onSubmit","preventDefault","props","reset","this","SearchForm","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","React","Component","Loader","containerLoading","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","toggleModal","onClickOverlay","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","BASE_URL","reducingResponseKeys","data","hits","el","largeImageURL","FetchApi","a","page","axios","get","params","key","q","image_type","orientation","safesearch","per_page","response","console","log","message","PropTypes","object","isRequired","App","isLoading","bigModalImage","showModal","onLoadMoreImages","length","prevState","incrementPage","scrollTo","top","documentElement","scrollHeight","behavior","newSearchName","resetDataState","updateSearchNameState","findBigModalImage","find","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8872a37c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2ySnK\",\"SearchForm\":\"Searchbar_SearchForm__nD2kx\",\"SearchFormButton\":\"Searchbar_SearchFormButton__14KNL\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1nTwF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ImLo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9JXVV\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3zdSj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__a0743\",\"buttonContainer\":\"Button_buttonContainer__1jnjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1BatF\",\"Modal\":\"Modal_Modal__1Nk5z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3MIpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerLoading\":\"Loader_containerLoading__1VICc\"};","import s from \"./ImageGalleryItem.module.css\";\r\nexport default function ImageGalleryItem({ smallImage, onClickImage }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={onClickImage}>\r\n      <img\r\n        src={smallImage}\r\n        alt=\"Изображение не найдено.\"\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ images, onClickImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          smallImage={image.webformatURL}\r\n          onClickImage={onClickImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <div className={s.buttonContainer}>\r\n      <button className={s.Button} type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends React.Component {\r\n  state = {\r\n    searchName: \"\",\r\n  };\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ searchName: e.currentTarget.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchName);\r\n    this.reset();\r\n  };\r\n\r\n  reset() {\r\n    this.setState({ searchName: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.searchName}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onNameChange}\r\n          />\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import Loading from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={s.containerLoading}>\r\n      <Loading type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  onClickOverlay = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onClickOverlay}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\nfunction reducingResponseKeys(data) {\r\n  const newArrayImages = data.hits.map((el) => ({\r\n    id: el.id,\r\n    webformatURL: el.webformatURL,\r\n    largeImageURL: el.largeImageURL,\r\n  }));\r\n  return newArrayImages;\r\n}\r\n\r\nexport default async function FetchApi(data) {\r\n  const { searchName, page } = data;\r\n\r\n  try {\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        key: \"22710862-ad31ee603fc8e39b27d5b9240\",\r\n        q: `${searchName}`,\r\n        image_type: \"photo\",\r\n        orientation: \"horizontal\",\r\n        safesearch: true,\r\n        per_page: 12,\r\n        page: `${page}`,\r\n      },\r\n    });\r\n\r\n    return reducingResponseKeys(response.data);\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n}\r\n\r\nFetchApi.PropTypes = {\r\n  data: PropTypes.object.isRequired,\r\n};\r\n","import React from \"react\";\n\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Searchbar from \"./components/Searchbar\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport FetchApi from \"./services/\";\n\nexport default class App extends React.Component {\n  state = {\n    images: [],\n    searchName: \"\",\n    page: 1,\n    isLoading: false,\n    bigModalImage: \"\",\n    showModal: false,\n  };\n\n  async componentDidUpdate() {\n    if (this.state.images.length === 0) {\n      const images = await FetchApi(this.state);\n      this.setState({ images: images });\n      this.incrementPage();\n    }\n\n    if (this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  onLoadMoreImages = async () => {\n    this.setState({ isLoading: true });\n    const images = await FetchApi(this.state);\n\n    if (images.length !== 0) {\n      this.setState((prevState) => {\n        return { images: [...prevState.images, ...images] };\n      });\n    }\n\n    this.incrementPage();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onSubmit = async (newSearchName) => {\n    this.setState({ isLoading: true });\n    this.resetDataState();\n    this.updateSearchNameState(newSearchName);\n  };\n\n  incrementPage = () => {\n    this.setState((prevState) => {\n      return {\n        page: (prevState.page += 1),\n      };\n    });\n  };\n\n  resetDataState = () => {\n    this.setState({\n      images: [],\n      searchName: \"\",\n      page: 1,\n    });\n  };\n\n  updateSearchNameState = (newSearchName) => {\n    this.setState({ searchName: newSearchName });\n  };\n\n  findBigModalImage = (smallImage) => {\n    const { images } = this.state;\n    const bigModalImage = images.find(\n      (image) => image.webformatURL === smallImage\n    );\n    return bigModalImage.largeImageURL;\n  };\n\n  onClickImage = (e) => {\n    const bigModalImage = this.findBigModalImage(e.target.src);\n    this.setState({ bigModalImage: bigModalImage });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.showModal && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={this.state.bigModalImage} alt=\"Not found.\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery\n          images={this.state.images}\n          onClickImage={this.onClickImage}\n        />\n        {this.state.isLoading && <Loader />}\n        {this.state.images.length !== 0 && (\n          <Button onClick={this.onLoadMoreImages} />\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
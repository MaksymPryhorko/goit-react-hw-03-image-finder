{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["Searchbar","state","searchName","handleNameChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","this","className","type","placeholder","onChange","React","Component","ImageGalleryItem","smallImage","src","alt","ImageGallery","images","map","image","webformatURL","id","Button","onClick","BASE_URL","API_KEY","App","page","totalHits","incrementDataState","prevState","resetDataState","updateSearchNameState","newSearchName","fetchImages","a","searchParameters","axios","get","response","data","console","log","reducingResponseKeys","hits","el","largeImageURL","onLoadMoreImages","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59014bc8.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default class Searchbar extends React.Component {\r\n  state = {\r\n    searchName: \"\",\r\n  };\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({ searchName: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchName);\r\n    this.reset();\r\n  };\r\n\r\n  reset() {\r\n    this.setState({ searchName: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.searchName}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleNameChange}\r\n          />\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImageGalleryItem({ smallImage }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={smallImage}\r\n        alt=\"Изображение не найдено.\"\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map((image) => (\r\n        <ImageGalleryItem key={image.id} smallImage={image.webformatURL} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","export default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\nimport axios from \"axios\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"22710862-ad31ee603fc8e39b27d5b9240\";\n\nexport default class App extends React.Component {\n  state = {\n    images: [],\n    searchName: \"\",\n    page: 1,\n    // amountData: 0,\n    totalHits: 0,\n  };\n\n  incrementDataState = () => {\n    this.setState((prevState) => {\n      return {\n        page: (prevState.page += 1),\n        totalHits: (prevState.totalHits += 12),\n      };\n    });\n  };\n\n  resetDataState = () => {\n    this.setState({\n      page: 1,\n      totalHits: 0,\n    });\n  };\n\n  updateSearchNameState = (newSearchName) => {\n    this.setState({ searchName: newSearchName });\n  };\n\n  fetchImages = async () => {\n    try {\n      const searchParameters = `${this.state.searchName}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=${this.state.page}`;\n      const response = await axios.get(\n        `${BASE_URL}?key=${API_KEY}&q=${searchParameters}`\n      );\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  reducingResponseKeys = (data) => {\n    const newArrayImages = data.hits.map((el) => ({\n      id: el.id,\n      webformatURL: el.webformatURL,\n      largeImageURL: el.largeImageURL,\n    }));\n    return newArrayImages;\n  };\n\n  onLoadMoreImages = async () => {\n    const response = await this.fetchImages();\n    this.incrementDataState();\n    const images = this.reducingResponseKeys(response);\n    this.setState((prevState) => {\n      return {\n        images: [...prevState.images, ...images],\n      };\n    });\n  };\n\n  onSubmit = async (newSearchName) => {\n    this.resetDataState();\n    this.updateSearchNameState(newSearchName);\n    const response = await this.fetchImages();\n    const images = this.reducingResponseKeys(response);\n    this.setState({ images: [...images] });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery images={this.state.images} />\n        {this.state.images.length !== 0 && (\n          <Button onClick={this.onLoadMoreImages} />\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}